<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/5/22121116_lab1_sec5_-_SK._ZAYED_MAHMOOD.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/5/22121116_lab1_sec5_-_SK._ZAYED_MAHMOOD.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22121116_Lab1_Sec5.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1DqD16Sh8-ohzwm27SLPBYXsvVEn0ixMt
"""

import heapq
file_1= open ("/content/sample_data/input.txt", "r")
file_2=open ("/content/sample_data/output.txt", "w")
val= file_1. readlines()


graph = {}
heuristics = {}
for i in val:
    h_column = i.split()
    city = h_column [0]
    heuristic = int(h_column[1])
    neighbor = []

    for j in range(2, len(h_column ), 2):
      ct_name=h_column[j]
      distance=int(h_column[j+1])
      neighbor. append((ct_name, distance))

    graph[city] = neighbor
    heuristics[city] = heuristic


def astar_search(graph, heuristics, start, goal):
  start_list = [(0, start)]
  visited_ct = {}
  evaluation = {}
  for city in graph:
    evaluation[city]=float('inf')
<a name="0"></a><font color="#FF0000"><a href="match112-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_28.gif"/></a>

  evaluation[start] = 0
  while start_list:
    key, value = heapq.heappop(start_list)
    if value == goal:
        path = reconstruct_path(visited_ct , value)
        return path
    for neighbor, edge_cost in graph[value]:
      tentative_evaluation =evaluation[value] + edge_cost
      if tentative_evaluation &lt; evaluation[neighbor]:
        visited_ct [neighbor] = value
        evaluation[neighbor] = tentative_evaluation
        final_score = tentative_evaluation + heuristics[neighbor]
        heapq.heappush(start_list, (final_score, neighbor))
  return None


def reconstruct_path(visited_ct , present):
  path = [present]
  while present in visited_ct :
    present = visited_ct [present]
    path.insert(0,present)
  return path


start_city = input("Enter the starting city: ")
</font>goal_city = input("Enter the destination city : ")


path = astar_search(graph, heuristics, start_city, goal_city)

output_filename = "output.txt"

if path:
<a name="1"></a><font color="#00FF00"><a href="match112-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_12.gif"/></a>

        total_distance = 0
        for i in range(len(path) - 1):
          current_city = path[i]
          nxt_city = path[i + 1]
          for neighbor, cost in graph[current_city]:
            if neighbor == nxt_city:
              total_distance += cost
              break
        file_2.write("Path:"+ " -&gt; ".join(path))
</font>        file_2.write("\n")
        file_2.write(f"Total distance: {total_distance} km")




else:
      file_2.write("No path found from {} to {}".format(start_city, goal_city))


file_1.close()
file_2.close()
</pre>
</body>
</html>
