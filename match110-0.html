<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/13/22101821_alvee_ishraque_cse422_assignment01_fall2024_py_-_ALVEE_ISHRAQUE.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/13/22101821_alvee_ishraque_cse422_assignment01_fall2024_py_-_ALVEE_ISHRAQUE.py<p></p><pre>
# -*- coding: utf-8 -*-
"""22101821_alvee ishraque_CSE422_Assignment01_Fall2024.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1lnH3I6JM3GrzNzo3PwmwSM-TQBy-if6Q
"""

# name: alvee ishraque
# id:22101821
# sec:13


import heapq
import math
f_input=open("/content/Input file.txt","r")
# city names er short form
cty_short={'Arad':'A','Bucharest':'Z','Craiova':'S','Eforie':'T','Fagaras':'O','Dobreta':'V','Hirsova':'N','lasi':'Q','Neamt':'F','Oradea':'B','Pitesti':'P','RimnicuVilcea':'R','Timisoara':'C','Urziceni':'D','Vaslui':'H','Zerind':'E','Lugoj':'G','Mehadia':'L','Sibiu':'I','Giurgiu':'M'}

# short form to city
short_cty = {}
for cty,shrt in cty_short.items():
    short_cty[shrt] = cty

h_val={}
cty_grph={}
# input the hures &amp; city graph filling
<a name="3"></a><font color="#00FFFF"><a href="match110-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

for i in f_input:
  part=i.split()
  cty=part[0]
  abbr_cty=cty_short[cty]
  h=int(part[1])
  h_val[abbr_cty]=h
</font>  neighbor={}

  for i in range(2,len(part),2):
      neighbor_cty=part[i]
      abbr_neighbor=cty_short[neighbor_cty]
      dis=int(part[i+1])
      neighbor[abbr_neighbor]=dis
<a name="2"></a><font color="#0000FF"><a href="match110-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

  cty_grph[abbr_cty]=neighbor

# a*
def a_star_search(grph,h,strt,goal):

  p_queue=[]
  heapq.heappush(p_queue,(h[strt],strt))
  g_scores={strt:0}
  parents={strt:None}
</font>  visited=[]

<a name="0"></a><font color="#FF0000"><a href="match110-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_14.gif"/></a>

  while p_queue:
    curr_f,curr_node= heapq.heappop(p_queue)
    if curr_node==goal:
        path=[]

        while curr_node:
            path.append(curr_node)
            curr_node=parents[curr_node]
        path.reverse()
        return path,g_scores[goal]
    if curr_node in visited:
        continue
    visited.append(curr_node)
    for neighbor,dis in grph[curr_node].items():
</font><a name="1"></a><font color="#00FF00"><a href="match110-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

      if neighbor in visited:
        continue

      tentetiv_g=g_scores[curr_node]+dis
      # If shrtest path thn update
      if tentetiv_g&lt;g_scores.get(neighbor,math.inf):
        parents[neighbor]=curr_node
        g_scores[neighbor]=tentetiv_g
</font>        f_score=tentetiv_g +h[neighbor]
        heapq.heappush(p_queue,(f_score,neighbor))
  return None,None

strt_city=input("strt node: ").strip()
des_city=input("des: ").strip()
shuru_abbr=cty_short.get(strt_city) #city nam  theke abbr
des_abbr=cty_short.get(des_city)

if not shuru_abbr or not des_abbr:
    print("invalid name")
else:
    path_abbr,t_dis= a_star_search(cty_grph,h_val,shuru_abbr,des_abbr)
    if path_abbr:
       # Convert abbr theke city names
      path_cty=[]
      for abbr in path_abbr:
        path_cty.append(short_cty[abbr])
        # path printing
      print("Path:")
      for cty in path_cty:
        if cty!=path_cty[-1]:
          print(cty,end=" - ")
        else:
          print(cty)
      print(f"total dis:{t_dis} km")
    else:
      print("no path found")

</pre>
</body>
</html>
