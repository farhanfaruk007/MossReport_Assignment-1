<html>
<head>
<title>C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/9/21301447_badrunnesa_21301447_cse422_lab_1_badrun_nesa.py</title>
</head>
<body bgcolor="white">
<hr/>
C:/Users/Farhan_Faruk/Downloads/Lab1_Submission/9/21301447_badrunnesa_21301447_cse422_lab_1_badrun_nesa.py<p></p><pre>
# -*- coding: utf-8 -*-
"""BadrunNesa_21301447_CSE422_LAB_1 - BADRUN NESA.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1fSkt5GiAgsNqOtjo47WsVkEKvXslk0R_
"""

import heapq
def load_graph(file_path):
    g = {}
    h ={}
    with open(file_path,'r') as file:
        for line in file:
            data=line.strip().split()
            if data[1].isdigit():
                c = data[0]
                he = int(data[1])
                n = data[2:]
            else:
                c = f"{data[0]} {data[1]}"
                he = int(data[2])
                n = data[3:]
            h[c] =he
            g[c] = []
            for i in range(0,len(n), 2):
                neighbor = n[i]
                try:
                    distance = int(n[i + 1])
                except ValueError:
                    print(f"Error: Invalid distance value '{n[i + 1]}' for neighbor '{neighbor}' of c '{c}'.")
                    continue
                g[c].append((neighbor, distance))
    return g, h
def a_star_search(g, h, start, goal):
    open_list =[]
<a name="0"></a><font color="#FF0000"><a href="match248-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_16.gif"/></a>

    heapq.heappush(open_list,(0 + h.get(start,0),0,start,[start]))
    closed_set =set()
    while open_list:
        estimated_cost,current_distance, current_node, path = heapq.heappop(open_list)
        if current_node ==goal:
            return path, current_distance
        if current_node in closed_set:
            continue
        closed_set.add(current_node)
        for neighbor, distance in g.get(current_node, []):
            if neighbor not in closed_set:
                new_distance = current_distance + distance
</font>                estimated_cost = new_distance + h.get(neighbor, 0)
                heapq.heappush(open_list, (estimated_cost, new_distance, neighbor, path + [neighbor]))
    return None, float('inf')
def main():
    file_path='input.txt'
    g, h=load_graph(file_path)
<a name="1"></a><font color="#00FF00"><a href="match248-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

    start =input("Start node: ").strip()
    goal= input("Destination: ").strip()
    if start not in g or goal not in g:
        print("Error: Start or goal node not found in the graph.")
        return
    path, total_distance = a_star_search(g, h, start, goal)

    if path:
        print("Path: " + " -&gt; ".join(path))
</font>        print("Total distance: " + str(total_distance) + " km")
    else:
        print("No path found.")

if __name__ == "__main__":
    main()</pre>
</body>
</html>
